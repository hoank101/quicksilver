(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90],{90528:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/staking/[chainId]/[valoperAddress]",function(){return c(36132)}])},36132:function(a,b,c){"use strict";c.r(b),c.d(b,{StakingBox:function(){return W},default:function(){return V}});var d=c(47568),e=c(34051),f=c.n(e),g=c(85893),h=c(3709),i=c(36979),j=c(23100),k=c(88911),l=c(91669),m=c(50174),n=c(86367),o=c(11028),p=c(47441),q=c(33229),r=c(33838),s=c(1004),t=c(56005),u=c(49394),v=c(80333),w=c(69558),x=c(99188),y=c(204),z=c(18273),A=c(93344),B=c(54641),C=c(96272),D=c(97822),E=c(95034),F=c(71567),G=c(295),H=c(33359),I=c(14548),J=c(27715),K=c(42150),L=c(9008),M=c.n(L),N=c(11163),O=c(74530),P=c(67294),Q=c(41260),R=c(93671),S=c(98152),T=c(17756),U=c(48764).Buffer;function V(){var a,b,c,d=(b=(a=(0,N.useRouter)().query).chainId,c=a.valoperAddress,{selectedNetwork:S.QW.find(function(a){return a.chainId===b}),valoperAddress:c}),e=d.selectedNetwork,f=d.valoperAddress,l="string"==typeof f?f:void 0;return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(h.R,{offsetY:"200px",in:!0,style:{width:"100%"},children:(0,g.jsxs)(i.W,{mt:12,flexDir:"column",top:20,zIndex:2,position:"relative",justifyContent:"center",alignItems:"center",maxW:"5xl",children:[(0,g.jsxs)(M(),{children:[(0,g.jsxs)("title",{children:["Staking on ",null==e?void 0:e.name]}),(0,g.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,g.jsx)("link",{rel:"icon",href:"/quicksilver/img/favicon.png"})]}),e&&l&&function(){if("string"==typeof f)try{return J.gW.decode(f),!0}catch(a){}return!1}()?(0,g.jsx)(W,{valoperAddress:l,selectedOption:e}):(0,g.jsxs)(j.xu,{maxW:"md",mx:"auto",position:"relative",backdropFilter:"blur(50px)",bgColor:"rgba(255,255,255,0.1)",flex:"1",borderRadius:"10px",p:5,children:[(0,g.jsxs)(o.k,{children:[(0,g.jsx)(p.d,{textAlign:"center",color:"white",fontSize:"lg",pb:5,children:"You are attempting to delegate directly to a validator but there is an issue with the url."}),(0,g.jsx)(p.d,{textAlign:"center",color:"red",fontSize:"lg",children:"Error:"}),(0,g.jsx)(q.J,{textAlign:"center",color:"white",fontSize:"lg",pb:5,children:e?"Validator address not found. Please check the address and try again.":"The specified network was not found. Please check the URL and try again."})]}),(0,g.jsxs)(k.x,{textAlign:"center",children:["If you believe there is an issue, please contact us on"," ",(0,g.jsx)(r.r,{color:"complimentary.900",href:"https://discord.gg/4QXEJQcv",isExternal:!0,children:"Discord"})]})]})]})})})}var W=function(a){var b,c,e,i,L,M,N,S,V,W,X,Y,Z,$,_,aa=a.selectedOption,ab=a.valoperAddress,ac=(0,P.useState)(0),ad=ac[0],ae=ac[1],af=(0,P.useState)("0"),ag=af[0],ah=af[1],ai=(0,I.Ab)(aa.chainName).address,aj=(0,I.Ab)("quicksilver").address,ak=(0,T.dG)(aa.chainName),al=(0,R.qj)(aa.chainName,null!=ai?ai:""),am=al.balance,an=al.isLoading,ao=(0,R.e_)("quicksilver",null!=aj?aj:"",aa.value.toLowerCase()),ap=ao.balance;ao.isLoading,ao.isError;var aq=(null==ap?void 0:ap.balance.amount)||"",ar=(0,T.GN)((null==am?void 0:null===(b=am.balance)|| void 0===b?void 0:b.amount)||"0",-ak),as=(0,R.S_)(aa.chainId),at=as.data;as.isLoading,as.isError,(0,P.useEffect)(function(){ah("0")},[aa.chainName]);var au=function(a){return Math.trunc(1e3*a)/1e3},av=au(Number(ar)),aw=au(av?av-.005:0),ax=aw/2,ay=(0,P.useState)(!1),az=ay[0],aA=ay[1],aB=(0,T.GN)(aq,-6),aC=aB.includes(".")?aB.substring(0,aB.indexOf(".")+3):aB,aD=au(Number(aC)),aE=aD/2,aF=(0,P.useState)(!1),aG=aF[0],aH=aF[1],aI=(0,P.useState)(!1),aJ=(aI[0],aI[1]),aK=(0,P.useState)("Pending"),aL=(aK[0],aK[1]);ag&&!isNaN(Number(ag))&&at&&isNaN(Number(at.redemptionRate));var aM,aN=O.zq.interchainstaking.v1.MessageComposer.withTypeUrl.requestRedemption,aO=1e6*Number(ag),aP={amount:aO.toFixed(0),denom:null!==(V=null==at?void 0:at.localDenom)&& void 0!==V?V:""},aQ=aN({value:aP,fromAddress:null!=aj?aj:"",destinationAddress:null!=ai?ai:""}),aR={amount:[{denom:"uqck",amount:"7500"},],gas:"500000"},aS=(0,Q.mS)("quicksilver").tx,aT=(aM=(0,d.Z)(f().mark(function a(b){var c;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.preventDefault(),aH(!0),a.prev=2,a.next=5,aS([aQ],{fee:aR,onSuccess:function(){aL("Success")}});case 5:c=a.sent,a.next=13;break;case 8:a.prev=8,a.t0=a.catch(2),console.error("Transaction failed",a.t0),aL("Failed"),aJ(!0);case 13:return a.prev=13,aH(!1),a.finish(13);case 16:case"end":return a.stop()}},a,null,[[2,8,13,16]])})),function(a){return aM.apply(this,arguments)}),aU=function(a){ae(a),ah("")},aV=(0,R.kP)(aa.chainName),aW=aV.validatorsData;aV.isLoading,aV.isError;var aX=null!==(W=null===(c=null==aW?void 0:aW.find(function(a){return a.address===ab}))|| void 0===c?void 0:c.name)&& void 0!==W?W:"",aY={address:ab,intent:1},aZ=U.alloc(0);aY&&(aZ=U.concat([aZ,(a$=aY.address,a_=aY.intent,a0=J.gW.decode(a$).words,a1=new Uint8Array(J.gW.fromWords(a0)),a3=((a2=a_)>1&&(a2=1),a2<0&&(a2=0),Math.abs(200*a2)),U.concat([U.from([a3]),a1]))]),aZ=U.concat([U.from([2,aZ.length]),aZ]));var a$,a_,a0,a1,a2,a3,a4,a5=aZ.length>0&&ab?aZ.toString("base64"):"",a6=(0,O.iN.bank.v1beta1.MessageComposer.withTypeUrl.send)({fromAddress:null!=ai?ai:"",toAddress:null!==(X=null==at?void 0:null===(e=at.depositAddress)|| void 0===e?void 0:e.address)&& void 0!==X?X:"",amount:(0,H.coins)(aO.toFixed(0),null!==(Y=null==at?void 0:at.baseDenom)&& void 0!==Y?Y:"")}),a7=K.Ll.find(function(a){return a.chain_name===aa.chainName}),a8=null===(i=K.p5.find(function(a){return a.chain_name===aa.chainName}))|| void 0===i?void 0:null===(L=i.fees)|| void 0===L?void 0:L.fee_tokens,a9=null!==(Z=null==a7?void 0:a7.assets[0].base)&& void 0!==Z?Z:"",ba=null!==($=null===(M=null==a8?void 0:a8.find(function(a){return a.denom===a9}))|| void 0===M?void 0:M.average_gas_price)&& void 0!==$?$:"",bb=(0,T.GN)(ba,6),bc={amount:[{denom:a9,amount:bb.toString()},],gas:"500000"},bd=(0,Q.mS)(aa.chainName).tx,be=(a4=(0,d.Z)(f().mark(function a(b){var c;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b.preventDefault(),aH(!0),aL("Pending"),a.prev=3,a.next=6,bd([a6],{memo:a5,fee:bc,onSuccess:function(){aL("Success")}});case 6:c=a.sent,a.next=14;break;case 9:a.prev=9,a.t0=a.catch(3),console.error("Transaction failed",a.t0),aL("Failed"),aJ(!0);case 14:return a.prev=14,aH(!1),a.finish(14);case 17:case"end":return a.stop()}},a,null,[[3,9,14,17]])})),function(a){return a4.apply(this,arguments)}),bf=!!ai,bg=0===Number(ag)||!bf||.1>Number(ag),bh="";bf?.1>Number(ag)&&(bh="Minimum amount to stake is 0.1"):bh="Connect your wallet to stake";var bi=(0,R.su)(null!==(_=null==aa?void 0:aa.chainName)&& void 0!==_?_:"",aW||[]),bj=bi.data;bi.isLoading;var bk=bj?bj[ab]:void 0;return(0,g.jsx)(j.xu,{maxW:"500px",mx:"auto",position:"relative",backdropFilter:"blur(50px)",bgColor:"rgba(255,255,255,0.1)",flex:"1",borderRadius:"10px",p:5,children:(0,g.jsxs)(s.m,{isFitted:!0,variant:"enclosed",onChange:aU,children:[(0,g.jsxs)(t.t,{mt:"4",mb:"1em",overflow:"hidden",borderBottomColor:"transparent",bg:"rgba(255,255,255,0.1)",p:2,borderRadius:"25px",children:[(0,g.jsx)(u.O,{borderRadius:"25px",flex:"1",color:"white",fontWeight:"bold",transition:"background-color 0.2s ease-in-out, color 0.2s ease-in-out, border-color 0.2s ease-in-out",_hover:{borderBottomColor:"complimentary.900"},_selected:{bgColor:"rgba(0,0,0,0.5)",color:"complimentary.900",borderColor:"complimentary.900"},children:"Stake"}),(0,g.jsx)(u.O,{borderRadius:"25px",flex:"1",color:"white",fontWeight:"bold",transition:"background-color 0.2s ease-in-out, color 0.2s ease-in-out, border-color 0.2s ease-in-out",_hover:{borderBottomColor:"complimentary.900"},_selected:{bgColor:"rgba(0,0,0,0.5)",color:"complimentary.900",borderColor:"complimentary.900"},children:"Unstake"})]}),(0,g.jsxs)(v.n,{children:[(0,g.jsx)(h.R,{offsetY:"-80px",in:0===ad,children:(0,g.jsx)(w.x,{children:(0,g.jsxs)(l.g,{spacing:8,align:"center",children:[(0,g.jsxs)(k.x,{fontWeight:"light",textAlign:"center",color:"white",children:["Stake your ",aa.value.toUpperCase()," tokens in exchange for q",aa.value.toUpperCase()]}),(0,g.jsxs)(o.k,{py:4,textAlign:"left",color:"white",children:[(0,g.jsx)(p.d,{fontSize:"lg",py:1,children:"Validator:"}),aX?(0,g.jsxs)(q.J,{children:[!bk&&(0,g.jsx)(m.s,{boxSize:"26px",objectFit:"cover",marginRight:"8px",display:"inline-block",verticalAlign:"middle",startColor:"complimentary.900",endColor:"complimentary.100"}),bk&&(0,g.jsx)(n.E,{borderRadius:"full",src:bk,alt:aX,boxSize:"35px",objectFit:"cover",marginRight:"8px",display:"inline-block",verticalAlign:"middle",mt:-2}),aX]}):(0,g.jsx)(x.N,{mt:"4",h:"20px",startColor:"complimentary.900",endColor:"complimentary.500",noOfLines:1,w:"150px"})]}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(y.k,{flexDirection:"column",w:"100%",children:[(0,g.jsxs)(o.k,{py:4,textAlign:"left",color:"white",children:[(0,g.jsx)(p.d,{children:"Amount to stake:"}),(0,g.jsxs)(q.J,{children:[aa.value.toUpperCase()," "]})]}),(0,g.jsx)(z.I,{_active:{borderColor:"complimentary.900"},_selected:{borderColor:"complimentary.900"},_hover:{borderColor:"complimentary.900"},_focus:{borderColor:"complimentary.900",boxShadow:"0 0 0 3px #FF8000"},color:"complimentary.900",textAlign:"right",placeholder:az?"Invalid Number":"amount",_placeholder:{color:az?"red.500":"grey"},value:ag,type:"text",onChange:function(a){(/^\d*\.?\d*$/.test(a.target.value)||""===a.target.value)&&ah(a.target.value)},onBlur:function(){if("."===ag)aA(!0),ah("");else{var a=parseFloat(ag);isNaN(a)||a<=0?(aA(!0),ah("")):a>aw?(aA(!1),ah(aw.toString())):(aA(!1),ah(a.toString()))}}}),(0,g.jsxs)(y.k,{w:"100%",flexDirection:"row",py:4,mb:-4,justifyContent:"space-between",alignItems:"center",children:[(0,g.jsx)(y.k,{mb:-4,alignItems:"center",justifyContent:"center",gap:4,flexDirection:"row",children:ai?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(k.x,{color:"white",fontWeight:"light",children:["Tokens available:"," "]}),an?(0,g.jsx)(A.O,{startColor:"complimentary.900",endColor:"complimentary.400",children:(0,g.jsx)(x.N,{w:"95px",noOfLines:1,skeletonHeight:"18px"})}):(0,g.jsx)(k.x,{color:"complimentary.900",fontWeight:"light",children:ai?(null==am?void 0:null===(N=am.balance)|| void 0===N?void 0:N.amount)&&0!==Number(null==am?void 0:null===(S=am.balance)|| void 0===S?void 0:S.amount)?"".concat(av," ").concat(aa.value.toUpperCase()):(0,g.jsxs)(r.r,{href:"https://app.osmosis.zone/?from=USDC&to=".concat(aa.value.toUpperCase()),isExternal:!0,children:["Get ",aa.value.toUpperCase()," tokens here"]}):"0"})]}):(0,g.jsx)(k.x,{color:"complimentary.900",fontWeight:"light",children:"Connect your wallet to stake"})}),(0,g.jsxs)(B.U,{mb:-4,spacing:2,children:[(0,g.jsx)(C.z,{_hover:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},_active:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},color:"complimentary.900",variant:"ghost",w:"60px",h:"30px",onClick:function(){return ah(ax.toString())},isDisabled:!am||1>Number(am),children:"half"}),(0,g.jsx)(C.z,{_hover:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},_active:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},color:"complimentary.900",variant:"ghost",w:"60px",h:"30px",onClick:function(){return ah(aw.toString())},isDisabled:!am||1>Number(am),children:"max"})]})]})]}),(0,g.jsx)(D.i,{bgColor:"complimentary.900"}),(0,g.jsxs)(B.U,{justifyContent:"space-between",alignItems:"left",w:"100%",mt:-8,children:[(0,g.jsxs)(o.k,{textAlign:"left",color:"white",children:[(0,g.jsx)(p.d,{children:"What you'll get"}),(0,g.jsxs)(q.J,{children:["q",aa.value.toUpperCase(),":"]})]}),(0,g.jsx)(E.L,{})," ",(0,g.jsx)(o.k,{py:4,textAlign:"right",color:"white",children:(0,g.jsx)(q.J,{textColor:"complimentary.900",children:(Number(ag)/(Number(null==at?void 0:at.redemptionRate)||1)).toFixed(2)})})]}),(0,g.jsx)(F.u,{hasArrow:!0,label:bh,isDisabled:!bg,children:(0,g.jsx)(C.z,{width:"100%",_hover:{bgColor:"complimentary.1000"},isDisabled:0===Number(ag)||!ai||.1>Number(ag),onClick:be,children:aG?(0,g.jsx)(G.$,{thickness:"2px",speed:"0.65s",emptyColor:"gray.200",color:"complimentary.900",size:"sm"}):"Liquid Stake"})})]})]})})}),(0,g.jsx)(h.R,{offsetY:"200px",in:1===ad,children:(0,g.jsx)(w.x,{children:(0,g.jsxs)(l.g,{spacing:8,align:"center",children:[(0,g.jsxs)(k.x,{fontWeight:"light",textAlign:"center",color:"white",children:["Unstake your q",aa.value.toUpperCase()," tokens in exchange for ",aa.value.toUpperCase(),"."]}),(0,g.jsxs)(y.k,{flexDirection:"column",w:"100%",children:[(0,g.jsxs)(o.k,{py:4,textAlign:"left",color:"white",children:[(0,g.jsx)(p.d,{children:"Amount to unstake:"}),(0,g.jsxs)(q.J,{children:["q",aa.value.toUpperCase()," "]})]}),(0,g.jsx)(z.I,{_active:{borderColor:"complimentary.900"},_selected:{borderColor:"complimentary.900"},_hover:{borderColor:"complimentary.900"},_focus:{borderColor:"complimentary.900",boxShadow:"0 0 0 3px #FF8000"},color:"complimentary.900",textAlign:"right",placeholder:az?"Invalid Number":"amount",_placeholder:{color:az?"red.500":"grey"},value:ag,type:"text",onChange:function(a){/^\d*\.?\d*$/.test(a.target.value)&&ah(a.target.value)},onBlur:function(){var a=parseFloat(ag);isNaN(a)||a<=0?(aA(!0),ah("")):a>aD?(aA(!1),ah(aD.toString())):(aA(!1),ah(a.toString()))}}),(0,g.jsxs)(y.k,{w:"100%",flexDirection:"row",py:4,mb:-4,justifyContent:"space-between",alignItems:"center",children:[ai?(0,g.jsxs)(y.k,{mb:-4,alignItems:"center",justifyContent:"center",gap:4,flexDirection:"row",children:[(0,g.jsxs)(k.x,{color:"white",fontWeight:"light",children:["Tokens available:"," "]}),an?(0,g.jsx)(A.O,{startColor:"complimentary.900",endColor:"complimentary.400",children:(0,g.jsx)(x.N,{w:"95px",noOfLines:1,skeletonHeight:"18px"})}):(0,g.jsx)(k.x,{color:"complimentary.900",fontWeight:"light",children:ai?aq&&0!==Number(aq)?"".concat(aC," ").concat(aa.value.toUpperCase()):"No q".concat(aa.value.toUpperCase()):"0"})]}):(0,g.jsx)(k.x,{color:"complimentary.900",fontWeight:"light",children:"Connect your wallet to unstake"}),(0,g.jsxs)(B.U,{mb:-4,spacing:2,children:[(0,g.jsx)(C.z,{_hover:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},_active:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},color:"complimentary.900",variant:"ghost",w:"60px",h:"30px",onClick:function(){return ah(aE.toString())},isDisabled:!aq||1>Number(aq),children:"half"}),(0,g.jsx)(C.z,{_hover:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},_active:{bgColor:"rgba(255,255,255,0.05)",backdropFilter:"blur(10px)"},color:"complimentary.900",variant:"ghost",w:"60px",h:"30px",onClick:function(){return ah(aD.toString())},isDisabled:!aq||1>Number(aq),children:"max"})]})]})]}),(0,g.jsx)(D.i,{bgColor:"complimentary.900"}),(0,g.jsxs)(B.U,{justifyContent:"space-between",alignItems:"left",w:"100%",mt:-8,children:[(0,g.jsxs)(o.k,{textAlign:"left",color:"white",children:[(0,g.jsx)(p.d,{children:"What you'll get"}),(0,g.jsxs)(q.J,{children:[aa.value.toUpperCase(),":"]})]}),(0,g.jsx)(E.L,{})," ",(0,g.jsx)(o.k,{py:4,textAlign:"right",color:"white",children:(0,g.jsx)(q.J,{textColor:"complimentary.900",children:(Number(ag)*Number((null==at?void 0:at.redemptionRate)||1)).toFixed(2)})})]}),(0,g.jsx)(C.z,{width:"100%",_hover:{bgColor:"complimentary.1000"},onClick:aT,isDisabled:0===Number(ag)||!ai||aG||0===Number(null==ap?void 0:ap.balance.amount),children:aG?(0,g.jsx)(G.$,{thickness:"2px",speed:"0.65s",emptyColor:"gray.200",color:"complimentary.900",size:"sm"}):"Unstake"})]})})})]})]})})}},9008:function(a,b,c){a.exports=c(5443)},36979:function(a,b,c){"use strict";c.d(b,{W:function(){return j}});var d=c(16554),e=c(67798),f=c(77030),g=c(65548),h=c(25432),i=c(85893),j=(0,d.G)(function(a,b){let{className:c,centerContent:d,...j}=(0,e.Lr)(a),k=(0,f.mq)("Container",a);return(0,i.jsx)(g.m.div,{ref:b,className:(0,h.cx)("chakra-container",c),...j,__css:{...k,...d&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});j.displayName="Container"}},function(a){a.O(0,[774,888,179],function(){var b;return a(a.s=90528)}),_N_E=a.O()}])